---
const today = new Date().toLocaleDateString("en-US", {
  day: "2-digit",
  month: "long",
  year: "numeric",
});
---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HappeningNow.news</title>

<link rel="stylesheet" href="/src/styles/newspaper.css" />
<link rel="stylesheet" href="/src/styles/print.css" media="print" />
<link rel="stylesheet" href="/src/styles/theme.css" />
<link rel="stylesheet" href="/src/styles/themes.css" />

    <script is:inline>
      (function () {
        const saved = localStorage.getItem("mode");
        const prefersDark =
          window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: dark)").matches;

        const mode = saved || "system";
        const resolved =
          mode === "system" ? (prefersDark ? "dark" : "light") : mode;

        document.documentElement.dataset.mode = resolved;
        document.documentElement.dataset.modePref = mode;
      })();
    </script>
  </head>

  <body data-date={today}>
    <main>
      <slot />
    </main>

    <footer class="site-footer">
      <div class="footer-links">
        <a href="/">Front Page</a>
        <span>·</span>
        <a href="/bookmarks">Bookmarks</a>
        <span>·</span>
        <a href="/categories">Categories</a>
        <span>·</span>
        <a href="/donate">Donate</a>
      </div>

      <div class="footer-social">
        <span>Follow</span>
        <a href="https://twitter.com" target="_blank" rel="noreferrer">Twitter</a>
        <a href="https://instagram.com" target="_blank" rel="noreferrer">Instagram</a>
        <a href="https://linkedin.com" target="_blank" rel="noreferrer">LinkedIn</a>
      </div>

      <div class="footer-meta">
        <span>Made with &lt;3 in Dallas, TX</span>
        <span>© 2025</span>
      </div>
    </footer>

    <style>
      .site-footer {
        margin: 36px auto 18px;
        padding: 18px 12px;
        max-width: 1100px;
        border-top: 1px solid var(--rule);
        color: var(--muted);
        font-size: 13px;
        letter-spacing: 0.05em;
      }
      .site-footer a {
        color: inherit;
        text-decoration: none;
      }
      .site-footer a:hover { text-decoration: underline; }
      .footer-links,
      .footer-social,
      .footer-meta {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
        margin-top: 8px;
      }
      .footer-links { margin-top: 0; }
      .footer-meta {
        font-size: 12px;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }
    </style>
  </body>
</html>
